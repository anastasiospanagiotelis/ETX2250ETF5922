library(rgdal)
?rgdal
??rgdal
?readOGR()
library(fable)
citation(fable)
citation('fable')
citation("mvtnorm")
citation("ProbReco")
ls()
ls()
library("ggplot2", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.6")
data(mpg)
qplot(x=cty,data=mpg)
library(tidyverse)
source('~/.active-rstudio-document', echo=TRUE)
data
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
dev.off()
library(tidyverse)
data<-tibble(x=c(0,0.5,1.5,2.5,4.0,8),
y=c(0,39,54.34,70.67,95.34,157.67))
png('~/Documents/forErin.png')
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth(method='lm')+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
dev.off()
dev.off()
dev.off()
source('~/.active-rstudio-document', echo=TRUE)
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth()+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
?geom_smooth
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
dev.off()
dev.off()
source('~/.active-rstudio-document', echo=TRUE)
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth(method='gam')+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
data<-tibble(x=c(0,0.5,1.5,2.5,4.0,8),
y=c(0,39,54.34,70.67,95.34,157.67))
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth(method='gam')+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth(method='loess',span-0.1)+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth(method='loess',span=0.1)+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth(method='loess',span=0.4)+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth(method='loess',span=0.9)+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth(method='loess',span=0.9,se=F)+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth(method='loess',span=0.95,se=F)+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
ggplot(data,aes(x=x,y=y))+geom_point()+
geom_smooth(method='loess',span=0.8,se=F)+
xlab('Particle Size (mm)')+
ylab('Time of Reaction (seconds)')+
ggtitle('Particle Size (mm) v Time of Reaction (seconds)')
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
1+1
source('~/.active-rstudio-document', echo=TRUE)
1+3
a<-1
b=2
56->c
print(b)
b
str(b)
name<-'Anastasios'
str(name)
name<-Anastasios
ls()
rm(list=ls())
ls()
getwd()
rm(list=ls())
a<-1
b=2
name<-'Anastasios'
rootb<-sqrt(b)
str(rootb)
sqrt(name)
?sqrt
??logarithms
??logarithm
rm(list=ls())
a<-1
b=2
name<-'Anastasios'
rootb<-sqrt(b)
str(rootb)
sqrt(name)
?sqrt
rm(list=ls())
a<-1 #Comment here
b=2
b=2 Comments are here
source('~/.active-rstudio-document', echo=TRUE)
str(alist)
alist[[2]]
alist$y
library(ggplot2)
library("ggmap", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.6")
x<-matrix(runif(48),12,4)
x
set.seed(1)
x<-matrix(runif(48),12,4)
apply(x,1,max)
s<-apply(x,2,max)-apply(x,2,max)-
0
s<-apply(x,2,max)-apply(x,2,min)
s
x/s
x
x[,1]/s[1]
t(t(x)/s)
x[,1]/s[1]
x[,4]/s[4]
t(t(x)/s)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
z<-chol(cov(x))%*%x
z<-x%*%chol(cov(x))
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
x2
cov(x2)
z2
cov(z2)
source('~/.active-rstudio-document', echo=TRUE)
library(tidyverse)
library(rvest)
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')->a
?rvest
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
html_nodes()
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
html_attr('.Pstart')
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
html_attr('.Pstart(7px)')
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
html_attrs()
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
html_nodes()
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
html_nodes(.Pstart(7px))
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
html_nodes('.Pstart(7px)')
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
html_nodes('.Pstart')
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
html_nodes('td')
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
html_nodes('td')%>%
html_table()
read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')%>%
#html_nodes('td')%>%
html_table()
source('~/.active-rstudio-document', echo=TRUE)
html_nodes(html,'//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')
html_node(html,'//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')
html<-read_html('https://au.finance.yahoo.com/quote/AAPL/options?straddle=false')
html_table(html)->tabs
calls<-tabs[[1]]
puts<-tabs[[2]]
html_node(html,'//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')
html_node(html,'/*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')
html_nodes(html,'//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')
?html_nodes
html_nodes(html,xpath='//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')
html_nodes(html,xpath='//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')%>%
html_attrs('a')
html_nodes(html,xpath='//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')%>%
html_attrs()
html_nodes(html,xpath='//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')%>%
html_nodes('href')
html_nodes(html,xpath='//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')%>%
html_node('href')
html_nodes(html,xpath='//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')%>%
html_node('a')
html_nodes(html,xpath='//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')%>%
html_nodes('a')
html_nodes(html,xpath='//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')%>%
html_nodes('a')%>%
html_attrs()
html_nodes(html,xpath='//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')%>%
html_nodes('a')%>%
html_nodes('href')
html_nodes(html,xpath='//*[contains(concat( " ", @class, " " ), concat( " ", "Fz(s)", " " ))]')%>%
html_nodes('a')%>%
html_attr('href')
html_nodes(html,a)%>%
html_attr('href')
html_nodes(html,'a')%>%
html_attr('href')
html_nodes(html,'a')%>%
html_attr('href')%>%
grep('strike',.)
?grep
source('~/.active-rstudio-document', echo=TRUE)
links
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
links
html_i<-'https://au.finance.yahoo.com/quote/AAPL/options?date=1590710400&straddle=false'
html_table(html_i)%>%View
url_i<-'https://au.finance.yahoo.com/quote/AAPL/options?date=1590710400&straddle=false'
url_i%>%read_html%>%html_table()
str(calla)
str(calls)
is.tibble(calls)
is_tibble(calls)
source('~/.active-rstudio-document', echo=TRUE)
all_i
source('~/.active-rstudio-document', echo=TRUE)
all_i
all
all_i$`Contract name`%in%all$`Contract name`
?match
match(all_i$`Contract name`,all$`Contract name`)
source('~/.active-rstudio-document', echo=TRUE)
links
links[1]
source('~/.active-rstudio-document', echo=TRUE)
regex('cow(.*)milk','cow always gives milk')
regex('/(?<=cow\s+).*?(?=\s+milk)/gs','cow always gives milk')
regex('/(?<=cow/\s+).*?(?=/\s+milk)/gs','cow always gives milk')
regex('/(?<=cow//\s+).*?(?=//\s+milk)/gs','cow always gives milk')
regex('cow (.*) milk','cow always gives milk')
regex('cow always gives milk','cow (.*) milk')
?regex
?regexp
?regexpr
regexpr('cow (.*) milk','cow always gives milk')
regexec('cow (.*) milk','cow always gives milk')
gregexpr('cow (.*) milk','cow always gives milk')
gsub('^.*This\\s*|\\s*first.*$','',x)
x<-;This is my first sentence.''
x<-'This is my first sentence.'
x
gsub('^.*This\\s*|\\s*first.*$','',x)
gsub('^.*strike=\\s*|\\s*&straddle*$','',url_i)
gsub('^.*strike=\\s*|\\s*\\&straddle*$','',url_i)
gsub('^.*strike=\\s*|\\s*straddle*$','',url_i)
gsub('^.*strike=\\s*|\\s*straddle','',url_i)
gsub('^.*strike=\\s*|\\s*straddle=false$','',url_i)
gsub('^.*strike=\\s*|\\s*&straddle=false$','',url_i)
gsub('^.*strike=\\s*|\\s*&straddl$.','',url_i)
gsub('^.*strike=\\s*|\\s*&straddl$','',url_i)
gsub('^.*strike=\\s*|\\s*&straddl*$','',url_i)
gsub('^.*strike=\\s*&\\s*&straddl*$','',url_i)
gsub('^.*strike=\\s*|\\s*&straddl*$','',url_i)
gsub('^.*strike=\\s*|\\s*straddl*$','',url_i)
gsub('^.*strike=\\s*|\\s*straddl.*$','',url_i)
gsub('^.*strike=\\s*|\\s*&straddl.*$','',url_i)
gsub('^.*strike=\\s*|\\s*&strad.*$','',url_i)
source('~/.active-rstudio-document', echo=TRUE)
scrape_strike_i(links[1])
source('~/.active-rstudio-document', echo=TRUE)
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
url_i<-'https://au.finance.yahoo.com/quote/AAPL/options?strike=317.5&straddle=false'
#Read table
url_i%>%
read_html%>%
html_table()->tab_i
tab_i
for (i in 1:100){
#Read table
links[i]%>%
read_html%>%
html_table()%>%length%>%print}
for (i in 1:100){
#Read table
links[i]%>%
read_html%>%
html_table()%>%length%>%print;print(i)}
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
#Read table
url_i%>%
read_html%>%
html_table()->tab_i
tab_i
View(tab_i)
View(tab_i[[1]])
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
links[60:70]
url_i<-links[70]
url_i
#Read table
url_i%>%
read_html%>%
html_table()->tab_i
tab_i
tab_i[[1]]
tab_i[[2]]
tab_i[[3]]
tab_i[[1]]%>%View()
?as_tibble()
?html_table
install.packages("naniar")
library(naniar)
#Read table
url_i%>%
read_html%>%
html_table()->tab_i
#Convert to tibble and combine calls and puts
if (length(tab_i)==2){
calls_i<-tab_i[[1]]%>%as_tibble()%>%add_column(Type='Call')
puts_i<-tab_i[[2]]%>%as_tibble()%>%add_column(Type='Put')
all_i<-rbind(calls_i,puts_i)%>%
replace_with_na('-')
}
#Convert to tibble and combine calls and puts
if (length(tab_i)==2){
calls_i<-tab_i[[1]]%>%as_tibble()%>%add_column(Type='Call')
puts_i<-tab_i[[2]]%>%as_tibble()%>%add_column(Type='Put')
all_i<-rbind(calls_i,puts_i)%>%
replace_with_na(replace='-')
}
#Convert to tibble and combine calls and puts
if (length(tab_i)==2){
calls_i<-tab_i[[1]]%>%as_tibble()%>%add_column(Type='Call')
puts_i<-tab_i[[2]]%>%as_tibble()%>%add_column(Type='Put')
all_i<-rbind(calls_i,puts_i)%>%
replace_with_na(replace=list('-'))
}
all_i
View(all_i)
str(all_i)
#Convert to tibble and combine calls and puts
if (length(tab_i)==2){
calls_i<-tab_i[[1]]%>%
as_tibble()%>%
mutate_if(is.numeric,as.character)%>%
add_column(Type='Call')
puts_i<-tab_i[[2]]%>%
as_tibble()%>%
mutate_if(is.numeric,as.character)%>%
add_column(Type='Put')
all_i<-rbind(calls_i,puts_i)%>%
replace_with_na(replace=list('-'))
}
all_i
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
#Read table
url_i%>%
read_html%>%
html_table()->tab_i
#Convert to tibble and combine calls and puts
if (length(tab_i)==2){
calls_i<-tab_i[[1]]%>%
as_tibble()%>%
mutate_if(is.numeric,as.character)%>%
add_column(Type='Call')
puts_i<-tab_i[[2]]%>%
as_tibble()%>%
mutate_if(is.numeric,as.character)%>%
add_column(Type='Put')
all_i<-rbind(calls_i,puts_i)%>%
replace_with_na(replace=list('-'))
}
all_i%>%View
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
read_csv('apple_options.csv')->a
View(a)
#Read table
url_i%>%
read_html%>%
html_table()->tab_i
#Convert to tibble and combine calls and puts
if (length(tab_i)==2){
calls_i<-tab_i[[1]]%>%
as_tibble()%>%
mutate_if(is.numeric,as.character)%>%
add_column(Type='Call')
puts_i<-tab_i[[2]]%>%
as_tibble()%>%
mutate_if(is.numeric,as.character)%>%
add_column(Type='Put')
all_i<-rbind(calls_i,puts_i)%>%
replace_with_na(replace=list('-'))
}
all_i%>%View
all_i%>%replace_with_na(replace=list('-'))
all_i%>%replace_with_na_all(replace=list('-'))
all_i%>%replace_with_na_all(~.x=='-')
#Convert to tibble and combine calls and puts
if (length(tab_i)==2){
calls_i<-tab_i[[1]]%>%
as_tibble()%>%
mutate_if(is.numeric,as.character)%>%
add_column(Type='Call')
puts_i<-tab_i[[2]]%>%
as_tibble()%>%
mutate_if(is.numeric,as.character)%>%
add_column(Type='Put')
all_i<-rbind(calls_i,puts_i)%>%
replace_with_na_all(~.x=='-')
}
all_i
all_i%>%View
source('~/Documents/Misc/Finance Data/options.R', echo=TRUE)
read_csv('apple_options.csv')->a
View(a)
library(sn)
citation(sn)
citation('sn')
?tsutils::nemenyi
?nemenyi
?tsutils::nemenyi
citation(nemenyi)
citation(tsutils)
library(tsutils)
citation(tsutils)
citation('tsutils')
txhousing%>%
filter(city=='Houston',date>2010)%>%
select(date,sales,listings)->houston_sales_listings
library(tidyverse)
txhousing%>%
filter(city=='Houston',date>2010)%>%
select(date,sales,listings)->houston_sales_listings
houston_sales_listings
?pivot_longer
houston_sales_listings%>%
pivot_longer(cols = -date, names_to = variable, values_to = value)%>%
ggplot(aes(x=date,y=value,group=variable))+
geom_line()
houston_sales_listings%>%
pivot_longer(cols = -date, names_to = 'variable', values_to = 'value')%>%
ggplot(aes(x=date,y=value,group=variable))+
geom_line()
library(class)
load('knnexample.RData')
setwd("~/Documents/Teaching/DataVizA2019/Lectures/09kNNClassifier")
load('knnexample.RData')
load('knnexample.RData')
train_x_std<-scale(train_x)
train_x
train_x_std
mean_train_x<-attr(train_x_std,"scaled:center")
mean_train_x
std_train_x<-attr(train_x_std,"scaled:scale")
std_train_x
test_x_std<-scale(test_x,
center = mean_train_x,
scale = std_train_x)
knn(train_x_std,test_x_std,
train_y,k=1)->yhat_k1
print(yhat_k1)
miscl_k1<-mean(test_y!=yhat_k1)
print(miscl_k1)
knn(train_x_std,test_x_std,
train_y,k=5)->yhat_k5
print(yhat_k5)
miscl_k5<-mean(test_y!=yhat_k5)
print(miscl_k5)
