<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Plots: The Good, the Bad and the Ugly</title>
    <meta charset="utf-8" />
    <meta name="author" content="Anastasios Panagiotelis" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/mtheme.css" type="text/css" />
    <link rel="stylesheet" href="css/mod.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Plots: The Good, the Bad and the Ugly
## Data Visualisation and Analytics
### Anastasios Panagiotelis
### Lecture 2

---


class: inverse, center, middle

# A History Lesson



---

# Cholera

- In 1854 there was a breakout of the cholera disease in London killing 616 people.
- At the time it was speculated that the disease was carried in the air.
- A physician called John Snow was sceptical and began to collect data.

---

# Snow's map


&lt;img src="img/Snow-cholera-map.jpg" width="3120" style="display: block; margin: auto;" /&gt;

---

# Snow's map

&lt;img src="img/Snow_Cholera.svg" style="display: block; margin: auto;" /&gt;

---

# Consequences

- The map showed that cholera was more prevalent around a water pump on Broad Street.
- The pump was closed down.
- Eventually it was established that cholera is a water-borne disease.
- Data visualisation saves lives!

---

# Crimean War

- At the same time Great Britain was at war against Russia in the Crimean peninsula.
- Florence Nightingale is famous as a nurse who treated the wounded soldiers.
- She also advocated British Parliament for more sanitary conditions in military hospitals.
- She knew the power of using data visualisation.

---

# Nightingale's Rose chart

&lt;img src="img/florose.jpg" width="2880" style="display: block; margin: auto;" /&gt;

---
# Nightingale's Rose chart 

&lt;img src="img/nightingale_rose_chart.svg" style="display: block; margin: auto;" /&gt;

- Blue areas: Preventible deaths.
- Red areas: Deaths from battle wounds.
- Black areas: Other causes.

---

# Aftermath

- The improved sanitation at military hospitals was eventually implemented in civilian hospitals.
- Data visualisation saves lives.
- Florence Nightingale became the first female member of the Royal Statistical Society.
---

# Napoleon

- In 1812 Napoleon thought it was a good idea to invade Russia.
- This campaign was a disaster for the French.
- Engineer Charles Joseph Minard captured the extent of this catastrophe using visualisation.

---

# Minard's plot

&lt;img src="img/Minard_Map.svg" style="display: block; margin: auto;" /&gt;

---

# Minard's plot

- This visualisation provides information on 6 variables in one chart.
  - Number of troops.
  - Whether troops advance or retreat.
  - Temperature and time.
  - Longitude and latitude.
- Despite the clear message that invading Russia in winter is a bad idea, some people did not learn this lesson.

---

# Why visualisation?

- Gain insights from data.
- Overview of large datasets.
- Search for: 
    + Trends
    + Relationships
    + Irregularites
- In business data visualisation is a crucial tool to support decision making.

---

# Tesla Motors

- Tesla vehicles collect a large number of data from sensors.
--

- The plot on the next slide shows tye pressure over time
--

- This visualisation was used to
--

  + Check pressure when vehicles left factory,
--

  + See how long customers take to respond to a low pressure alert,
--

  + Do predictive modelling on when tyres go flat.

---

# Tesla Motors

&lt;img src="img/tesla.png" width="1600" style="display: block; margin: auto;" /&gt;

You can read more about the case study [here](https://hbr.org/2016/06/visualizations-that-really-work).

---

class: inverse, center, middle

# Plotting Principles

---

# Tufte's principles

- Principles of good practice in data visualisation are outlined in *The Visual Display of Quantitative Information* by **Edward Tufte**. These include:
  - Avoid distorting what the data have to say
  - Present many numbers in a small space
  - Make large data sets coherent
  - Encourage the eye to compare different pieces of data
  
---

# Bad plots

- Tufte also provides a catalog of bad plots.
- What makes these plots *bad* can be put into three categories.
  - Taste (Aesthetic)
  - Perceptual
  - Data

---
class: inverse, center, middle

# Bad Taste
---

# An ugly plot

&lt;img src="img/monster.jpg" width="1387" style="display: block; margin: auto;" /&gt;

---

# Chartjunk

- Chartjunk is the inclusion of elements that are not necessary to communicate the information.
- The inclusion of the following can be considered chartjunk:
  + Heavy gridlines.
  + Unnecessary text.
  + Pictures within the chart.

---

# Another example

&lt;img src="img/Chartjunk-example.svg" style="display: block; margin: auto;" /&gt;

---
# Guidelines

Aim for a high Data Ink Ratio

`$$\mbox{Data Ink ratio}=\frac{\mbox{Ink used to display data}}{\mbox{Ink used in graphic}}$$`

Also aim for a high Data Density

`$$\mbox{Data Density}=\frac{\mbox{Number of data points}}{\mbox{Area of graphic}}$$`
If data density is small, perhaps use a table

---

#Low data density

&lt;img src="img/sword.jpg" width="428" style="display: block; margin: auto;" /&gt;


---

# Bad... but not misleading

- Note that although the previous plots look bad, strictly speaking they do not mislead.
- Also maximising data-ink ratio should be seen as a guideline rather than a strict rule.
- For instance the default background for `ggplot2` is arguably chartjunk
- There are good reasons for using it. 

---
# ggplot2

&lt;img src="GoodBadPlot_files/figure-html/unnamed-chunk-5-1.png" style="display: block; margin: auto;" /&gt;

---

# Wickham on the grey background

*"We can still see the gridlines to aid in the judgement of position (Cleveland, 1993b), but they have little visual impact and we can easily "tune" them out... Finally, the grey background creates a continuous field of colour which ensures that the plot is perceived as a single visual entity"*

ggplot2: Elegant Graphics for Data Analyis

---
class: inverse, center, middle

# Bad Perception

---

# What can we perceive?

- Human perception is a broad field that takes in ideas from psychology and philosophy.
- For data visualisation we can perceive:
  - Length
  - Area 
  - Volume
  - Shape
  - Position
  - Color
  - Angle

---

#Errors of perception

- Data visualisation is all about mapping data to things we can perceive.
- This should not be done in a way that is innacurate or misleading.
- The following plots provide some examples of what can go wrong.

---
# Confusing length and area

&lt;img src="img/mac.jpg" width="652" style="display: block; margin: auto;" /&gt;

---

# Confusing length and area

- On the previous plot the number of customers is represented by length (height of computer)
- However the *area* of the 2D pictures of computers scale up more than their *heights*.
- Also the picture leads us to imagine a 3D computer making this effect worse.
- The value for *Mac* is only about 3 to 4 times more than for *None* but we perceive the difference to be much more.

---

# Beware 3D

&lt;img src="img/seo-traffic-columns.gif" style="display: block; margin: auto;" /&gt;

---

# Beware 3D

&lt;img src="img/seo-traffic-pie-chart.gif" style="display: block; margin: auto;" /&gt;

---
# Beware 3D

- Difficult to line up the heights of bars with the actual values
- Closer green bar (MSN) looks bigger.
- On the pie chart rendering in 3D makes the blue segment (Google) look the biggest.
- Do not use three dimensions when two will work well.

???

https://infolific.com/technology/internet/seo-lie-factor/

---

# Lie Factor

The lie factor is given by

`$$\mbox{Lie factor}=\frac{\mbox{Size of effect in graph}}{\mbox{Size of effect in data}}$$`
- The lie factor should be 1.

---

# Road miles (from Tufte)

&lt;img src="img/Lie_factor_example1_image.jpg" width="731" style="display: block; margin: auto;" /&gt;

---

#Effects

- The data says that mileage rose from 18 to 27.5 which is a 53% increase.
- The line on the graph increases from 0.6 inches to 5.3 inches which is a 783% increase!
- The lie factor is `\(783/53\approx 14\)`

---
class: inverse, middle, center
# Bad Data

---
# Bad Data

- Sometimes there is nothing wrong with the plot but with the data.
- On the following slide is a plot comparing the cost of going to college in the US against the salaries of college graduates.
- Can you find problems with this graph?

---

# College cost

&lt;img src="img/diminishing-return.jpg" width="824" style="display: block; margin: auto;" /&gt;

---

# Problems

- There is nothing *incorrect* about this graph.
- However the message is misleading.
- The income is a yearly income while the cost of college is over four years (and only paid once).
- Also it does not show the income of people who are not college graduates.
- Think carefully about comparisons on a plot.
- Make sure your conclusions align with what is in the plot.

---
class: inverse, center, middle

# The x and y axis

---

# The y-axis

- Watch this [video](https://www.youtube.com/watch?v=14VYnFhBKcY).
- Are we interested in the size of the variable rather than changes in the variable?
- Is zero a reasonable value for the variable to take?
- Are we using a bar chart?
- Answering yes to these questions means we should give more consideration to including zero on the y-axis.

---

# Stock Prices

&lt;img src="img/twitter_short.png" width="468" style="display: block; margin: auto;" /&gt;

From this graph we conclude that Twitter stock prices increased **dramatically** on April 26. 
---

# A longer term view

&lt;img src="img/twitter_long.png" width="468" style="display: block; margin: auto;" /&gt;

Not that dramatic anymore.

---

class: inverse, middle center

# More bad plots

---

# Electrolux

&lt;img src="img/Consultantsmind-Electrolux-Profit-then-Growth.png" width="548" style="display: block; margin: auto;" /&gt;

???

Data-to-ink ratio is zero

---

# McKesson

&lt;img src="img/Consultantsmind-McKesson-Graph-Forecast.png" width="605" style="display: block; margin: auto;" /&gt;

???

Forecast not in different colour

---

# McKinsey

&lt;img src="img/Consultantsmind-McKinsey-Gig-Economy-Messy-Slide.jpg" width="1381" style="display: block; margin: auto;" /&gt;

---

# Pizza

&lt;img src="img/Its-a-pizza-Chart-Not-a-Pie-chart-1.png" width="399" style="display: block; margin: auto;" /&gt;

???

Chart junk numbers do not add up

---


# Pie chart

&lt;img src="img/Misleading_Pie_Chart.png" width="552" style="display: block; margin: auto;" /&gt;

???

3d makes one slice look small

---

# Climate Change

&lt;img src="img/Nature-climate-change.png" width="690" style="display: block; margin: auto;" /&gt;


---

#Season

&lt;img src="img/season.png" width="1204" style="display: block; margin: auto;" /&gt;

???

lie factor

---
# Narcotics

&lt;img src="img/display.jpeg" width="853" style="display: block; margin: auto;" /&gt;


---


# Summary

- Graphs can be misleading
- The default options in ggplot are chosen to protect the user from errors of taste and errors of perception.
- Nothing protects you from using bad or misleading data...
- ...except for your own common sense
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
