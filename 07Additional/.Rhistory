library(tidyverse)
economics_long$variable
economics_long$variable%>%unique()
economics
?economics
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(echo = FALSE, fig.align = "center")
require(magrittr)
require(tidyverse)
require(plotly)
require(widgetframe)
require(animation)
require(DT)
require(PoEdata)
require(kableExtra)
require(gridExtra)
require(ggmosaic)
economics_long%>%filter(variable %in% c('pce','unemploy'))
ggplot(aes(x=date,y=value,group=variable))+
geom_line()
economics_long%>%filter(variable %in% c('pce','unemploy'))%>%
ggplot(aes(x=date,y=value,group=variable))+
geom_line()
txhousing
txhousing$city%>%unique()
txhousing
txhousing%>%
filter(city=='Austin')%>%
select(date,sales,listings)%>%
gather('Variable','Value',-date)%>%View
econoimcs
economics
install.packages("ggthemes")
library(ggthemes)
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(echo = FALSE, fig.align = "center")
require(magrittr)
require(tidyverse)
require(plotly)
require(widgetframe)
require(animation)
require(DT)
require(PoEdata)
require(kableExtra)
require(gridExtra)
require(ggmosaic)
require(ggthemes)
txhousing%>%
filter(city=='Houston',date>2010)%>%
select(date,sales,listings)->houston_sales_listings
houston_sales_listings%>%
gather('variable','value',-date)%>%
ggplot(aes(x=date,y=value,group=variable))+
geom_line()
houston_sales_listings
?coord_fixed
max(houston_sales_listings$sales)
min(houston_sales_listings$sales)
10/5000
library(plotly)
houston_sales_listings%>%
ggplot(aes(x=listings,y=sales, col=date))+
geom_path()+scale_color_viridis_c()->g
ggplotly(g)
houston_sales_listings%>%
ggplot(aes(x=listings,y=sales, col=date))+
geom_point()+scale_color_viridis_c()->g
ggplotly(g)
xaringan:::inf_mr()
xaringan:::inf_mr()
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(echo = FALSE, fig.align = "center")
require(magrittr)
require(tidyverse)
require(plotly)
require(widgetframe)
require(animation)
require(DT)
require(PoEdata)
require(kableExtra)
require(gridExtra)
require(ggmosaic)
require(ggthemes)
set.seed(1)
tibble(x=runif(10))%>%
ggplot(aes(x=x))+geom_rug()
set.seed(1)
tibble(x=runif(10),x0=c(1,rep(0,9)))%>%
ggplot(aes(x=x,col=x0))+geom_rug()
set.seed(1)
tibble(x=runif(10),x0=c(TRUE,rep(FALSE,9)))%>%
ggplot(aes(x=x,col=x0))+geom_rug()
set.seed(1)
tibble(x=runif(20),x0=c(TRUE,rep(FALSE,9)))%>%
ggplot(aes(x=x,col=x0))+geom_rug()
set.seed(1)
tibble(x=runif(20),x0=c(TRUE,rep(FALSE,19)))%>%
ggplot(aes(x=x,col=x0))+geom_rug()
x=runif(20)
d<-x-x[1]
d
sort(d)
d<-abs(x-x[1])
x=runif(20)
d<-abs(x-x[1])
d
sort(d)
k<-4
x=runif(20)
d<-abs(x-x[1])
c<-sort(d)[k+1]
nn<-x[d<c]
nn
nn<-(d<c)
nn
nn<-rep(NULL,20)
set.seed(1)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep(NULL,20)
nn[(d<c)]<-'nn'
nn[q]<-'x0'
tibble(x=runif(20),nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug()
set.seed(2)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep(NULL,20)
nn[(d<c)]<-'nn'
nn[q]<-'x0'
tibble(x=runif(20),nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug()
set.seed(2)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d,decreasing = T)[k+1]
nn<-rep(NULL,20)
nn[(d<c)]<-'nn'
nn[q]<-'x0'
tibble(x=runif(20),nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug()
x=runif(20)
d<-abs(x-x[q])
x
d
set.seed(3)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
x
d
c<-sort(d,decreasing = T)[k+1]
c
sort(d)
(d<c)
c<-sort(d)[k+1]
(d<c)
nn<-rep('',20)
nn[(d<c)]<-'nn'
nn[q]<-'x0'
nn
x
d
c
(d<c)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('',20)
nn[(d<c)]<-'nn'
nn[q]<-'x0'
x
nn
d
c
set.seed(3)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('',20)
nn[(d<c)]<-'nn'
nn[q]<-'x0'
tibble(x=runif(20),nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug()
nn
x
d
c
set.seed(3)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('',20)
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug()
set.seed(5)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('',20)
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=2)+theme(legend.position = 'none')
nn
set.seed(5)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('-',20)
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=2)+theme(legend.position = 'none')
set.seed(5)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('x',20)
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=2)+theme(legend.position = 'none')
set.seed(5)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('x',20)
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')
set.seed(6)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('x',20)
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')
set.seed(6)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('x',20)
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')+scale_color_manual(c("#E69F00", "#56B4E9", "#009E73"))
set.seed(6)
k<-4
q<-1
x=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('x',20)
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')+scale_color_manual(values = c("#E69F00", "#56B4E9", "#009E73"))
set.seed(6)
k<-4
q<-1
x=runif(20)
y=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('x',20)
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')+scale_color_manual(values = c("#56B4E9", "#009E73"))+geom_point(aes(y=y))
?subset
set.seed(6)
k<-4
q<-1
x=runif(20)
y=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('x',20)
nn[q]<-'x0'
df<-tibble(x=x,y=y,nn=nn)
ggplot(df,aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')+scale_color_manual(values = c("#56B4E9", "#009E73"))#+geom_point(data = df[2:20,],mapping = aes(x=x,y=y))
set.seed(6)
k<-4
q<-1
x=runif(20)
y=runif(20)
d<-abs(x-x[q])
c<-sort(d)[k+1]
nn<-rep('x',20)
nn[q]<-'x0'
df<-tibble(x=x,y=y,nn=nn)
ggplot(df,aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')+scale_color_manual(values = c("#56B4E9", "#009E73"))+geom_point(data = df[2:20,],mapping = aes(x=x,y=y))
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')+scale_color_manual(values = c("#E69F00", "#56B4E9", "#009E73"))+geom_point(data = df[2:20,],mapping = aes(x=x,y=y))
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')+scale_color_manual(values = c("#E69F00", "#56B4E9", "#009E73"))+geom_point(data = df[2:20,],mapping = aes(x=x,y=y,col=nn))
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
tibble(x=x,nn=nn)%>%
ggplot(aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')+geom_point(data = df[2:20,],mapping = aes(x=x,y=y,col=nn))+scale_color_manual(values = c("#E69F00", "#56B4E9", "#009E73"))
nn[(d<=c)]<-'nn'
nn[q]<-'x0'
df<-tibble(x=x,y=y,nn=nn)
ggplot(df,aes(x=x,col=nn))+geom_rug(size=1)+theme(legend.position = 'none')+geom_point(data = df[2:20,],mapping = aes(x=x,y=y,col=nn))+scale_color_manual(values = c("#E69F00", "#56B4E9", "#009E73"))
xaringan:::inf_mr()
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(echo = FALSE, fig.align = "center")
require(magrittr)
require(tidyverse)
require(plotly)
require(widgetframe)
require(animation)
require(DT)
require(PoEdata)
require(kableExtra)
require(gridExtra)
require(ggmosaic)
require(ggthemes)
ggplot(df,aes(x=x,col=nn))+geom_rug(size=1.5)+theme(legend.position = 'none')+geom_point(data = df[2:20,],mapping = aes(x=x,y=y,col=nn),size=3)+scale_color_manual(values = c("#E69F00", "#56B4E9", "#009E73"))+geom_smooth(data = filter(df,nn='nn'),method = 'lm',se = F)
ggplot(df,aes(x=x,col=nn))+geom_rug(size=1.5)+theme(legend.position = 'none')+geom_point(data = df[2:20,],mapping = aes(x=x,y=y,col=nn),size=3)+scale_color_manual(values = c("#E69F00", "#56B4E9", "#009E73"))+geom_smooth(data = filter(df,nn=='nn'),method = 'lm',se = F)
lmloc<-lm(data = filter(df,nn=='nn'))
lmloc<-lm(data = filter(df,nn=='nn'),y~x)
lmloc
predict.lm(lmloc,0.5)
predict.lm(lmloc,newdata = filter(df,nn==x0))
predict.lm(lmloc,newdata = filter(df,nn=='x0'))
?geom_point
geom_smooth()
?geom_smooth()
?loess
?gam
?annotate
